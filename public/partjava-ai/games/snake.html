<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>贪吃蛇小游戏</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    html, body { 
      height: 100%; 
      margin: 0; 
      padding: 0; 
      display: flex;
      justify-content: center;
      align-items: center;
      background: #f4f6fa; 
      font-family: 'Segoe UI', Arial, sans-serif;
      overflow: hidden;
    }
    h2 { text-align: center; margin-top: 0; margin-bottom: 20px; color: #4f8cff; font-size: 28px; }
    #snake-canvas { 
      display: block; 
      margin: 0 auto; 
      background: #222; 
      border-radius: 10px; 
      box-shadow: 0 4px 20px rgba(0,0,0,0.15);
      width: 450px;
      height: 450px;
    }
    #score { text-align: center; font-size: 1.4em; color: #333; margin-top: 15px; font-weight: bold; }
    #tip { text-align: center; color: #666; margin-top: 10px; font-size: 16px; }
    .game-container { 
      width: 500px; 
      height: 600px; 
      padding: 25px; 
      box-sizing: border-box;
      background: white;
      border-radius: 15px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
  </style>
</head>
<body>
  <div class="game-container">
    <h2>贪吃蛇小游戏</h2>
    <canvas id="snake-canvas" width="450" height="450"></canvas>
    <div id="score">分数: 0</div>
    <div id="tip">方向键控制，吃到黄色方块加分</div>
  </div>
  <script>
    const canvas = document.getElementById('snake-canvas');
    const ctx = canvas.getContext('2d');
    const cell = 25, width = 18, height = 18;
    let snake = [{x:9, y:9}], dx=0, dy=0, food = randFood(), score=0, gameOver=false;
    function randFood() {
      let f;
      do {
        f = {x: Math.floor(Math.random()*width), y: Math.floor(Math.random()*height)};
      } while (snake.some(s=>s.x===f.x&&s.y===f.y));
      return f;
    }
    function draw() {
      ctx.fillStyle = '#222';
      ctx.fillRect(0,0,canvas.width,canvas.height);
      for(const s of snake) {
        ctx.fillStyle = '#4f8cff';
        ctx.fillRect(s.x*cell, s.y*cell, cell-2, cell-2);
      }
      ctx.fillStyle = '#fbbf24';
      ctx.fillRect(food.x*cell, food.y*cell, cell-2, cell-2);
    }
    function move() {
      if(dx===0&&dy===0) return;
      const head = {x: snake[0].x+dx, y: snake[0].y+dy};
      if(head.x<0||head.x>=width||head.y<0||head.y>=height||snake.some(s=>s.x===head.x&&s.y===head.y)) {
        gameOver = true;
        document.getElementById('score').innerText = `游戏结束！分数: ${score}`;
        return;
      }
      snake.unshift(head);
      if(head.x===food.x&&head.y===food.y) {
        score++;
        document.getElementById('score').innerText = `分数: ${score}`;
        food = randFood();
      } else {
        snake.pop();
      }
    }
    function loop() {
      if(!gameOver) {
        move();
        draw();
        setTimeout(loop, 120);
      }
    }
    document.addEventListener('keydown', e => {
      if(e.key==='ArrowUp'&&dy!==1) {dx=0;dy=-1;}
      else if(e.key==='ArrowDown'&&dy!==-1) {dx=0;dy=1;}
      else if(e.key==='ArrowLeft'&&dx!==1) {dx=-1;dy=0;}
      else if(e.key==='ArrowRight'&&dx!==-1) {dx=1;dy=0;}
    });
    draw();
    setTimeout(loop, 300);
  </script>
</body>
</html> 